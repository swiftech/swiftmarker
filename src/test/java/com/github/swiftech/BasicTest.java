package com.github.swiftech;import com.github.swiftech.swiftmarker.Logger;import com.github.swiftech.swiftmarker.ProcessContext;import com.google.gson.Gson;import com.google.gson.JsonObject;import org.junit.Before;import org.junit.Test;/** * @author Allen 2018-06-20 **/public class BasicTest extends BaseResourceTest{    @Before    public void setup() {        log.setLevel(Logger.LEVEL_DEBUG);        config.setDebugLevel(Logger.LEVEL_DEBUG);        engine.setConfig(config);    }    @Test    public void testBasic() {        engine.setTemplate(loadTemplate("simple/basic"));        JsonObject jsonObject = new JsonObject();        JsonObject sub = new JsonObject();        sub.addProperty("word1", "anger");        sub.addProperty("word2", "hate");        jsonObject.add("yoda", sub);        String s = engine.process(jsonObject, new ProcessContext());        super.assertRender("simple/basic", s);        log.data(s);    }    @Test    public void testBasicIndex() {        String s = super.runFromResourceAndAssert("simple/basic_index");        log.data(s);    }    @Test    public void testBasicByObject() {        engine.setTemplate(loadTemplate("simple/basic"));        Object o = new Object() {            Object yoda = new Object() {                String word1 = "anger";                String word2 = "hate";            };        };        String s = engine.process(o, new ProcessContext());        log.data(s);    }    @Test    public void testWrongBasic() {        engine.setTemplate(loadTemplate("simple/basic"));        String json = "{\n" +                "  \"yoda\": {\n" +                "      \"word1\": \"anger\"" +                "  }\n" +                "}";        String s = engine.process(new Gson().fromJson(json, JsonObject.class), new ProcessContext());        log.data(s);    }    @Test    public void testBlankLines() {        engine.setTemplate("aaa\nbbb\n\nccc\n\n\nddd\n");        JsonObject jsonObject = new Gson().fromJson("{}", JsonObject.class);        String s = engine.process(jsonObject, new ProcessContext());        log.data(s);    }    /**     * 测试配置参数 {@link com.github.swiftech.swiftmarker.Config}.renderExpressionIfValueIsBlank     */    @Test    public void testBlankValue() {        config.setRenderExpressionIfValueIsBlank(false);        String s = super.runFromResourceAndAssert("simple/basic", "simple/basic_blank_value", "simple/basic_blank_value");        log.data(s);        log.data(s);    }}